{"version":3,"sources":["gallery-items.js","index.js"],"names":["preview","original","description","galleryRef","document","querySelector","lightBoxRef","lightBoxImageRef","closelightBoxBtnRef","lightBoxOverlayRef","imagePathAll","galleryItems","map","item","GalleryMarkup","createGalleryMarkup","closeLightBox","event","preventDefault","code","target","classList","remove","src","window","removeEventListener","toggleImages","array","createGalleryItemMarkup","join","openLightBox","nodeName","dataset","source","add","addEventListener","thisImageIndex","indexOf","length","innerHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;AC6Ff,aA7FA,IAAA,EAAA,EAAA,QAAA,uBA6FA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtEA,MAAMC,EAAaC,SAASC,cAAc,eACpCC,EAAcF,SAASC,cAAc,gBACrCE,EAAmBH,SAASC,cAAc,oBAC1CG,EAAsBJ,SAASC,cAAc,qBAC7CI,EAAqBL,SAASC,cAAc,sBAC5CK,EAAeC,EAAaC,QAAAA,IAAKC,GAASA,EAAKZ,UAC/Ca,EAAgBC,EAAoBJ,EAAD,SAIzC,SAASK,EAAcC,GACrBA,EAAMC,iBACA,MAAA,KAAEC,EAAF,OAAQC,GAAWH,EAGd,WAATE,GACAC,IAAWZ,GACXY,IAAWX,IAEXH,EAAYe,UAAUC,OAAO,WAC7Bf,EAAiBgB,IAAM,GACvBC,OAAOC,oBAAoB,QAAST,GACpCQ,OAAOC,oBAAoB,UAAWT,GACtCQ,OAAOC,oBAAoB,UAAWC,IAG1C,SAASX,EAAoBY,GACpBA,OAAAA,EAAMf,IAAIgB,GAAyBC,KAAK,IAEjD,SAASD,GAAwB,SAAE3B,EAAF,QAAYD,EAAZ,YAAqBE,IAGdD,MAAAA,2EAAAA,OAAAA,EAEtBD,gEAAAA,OAAAA,EACQC,8BAAAA,OAAAA,EACPC,uBAAAA,OAAAA,EANjB,sCAWF,SAAS4B,EAAab,GACpBA,EAAMC,iBACwB,QAA1BD,EAAMG,OAAOW,WAGfxB,EAAiBgB,IAAMN,EAAMG,OAAOY,QAAQC,OAC5C3B,EAAYe,UAAUa,IAAI,WAC1BV,OAAOW,iBAAiB,UAAWT,GAEnCA,EAAaT,GAEfO,OAAOW,iBAAiB,QAASnB,GACjCQ,OAAOW,iBAAiB,UAAWnB,IAErC,SAASU,EAAaT,GACpBA,EAAMC,iBACFkB,IAAAA,EAAiB1B,EAAa2B,QAAQ9B,EAAiBgB,KACvDN,GAAe,cAAfA,EAAME,MAAwBiB,EAAiB,EACjD7B,EAAiBgB,IAAMb,EAAc0B,GAAkB,OAClD,CAAA,KACU,eAAfnB,EAAME,MACNiB,EAAiB1B,EAAa4B,OAAS,GAIvC,OAFA/B,EAAiBgB,IAAMb,EAAc0B,GAAkB,IAxD3DjC,EAAWgC,iBAAiB,QAASL,GA8DrC3B,EAAWoC,UAAYzB","file":"src.aeddfca1.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n","import galleryItems from \"./gallery-items.js\";\n// Створи галерею з можливістю кліка по її елементах і перегляду повнорозмірного\n// зображення в модальному вікні. Прев'ю результату подивися\n// [за посиланням](https://take.ms/ZvBD0E).\n\n// ![Прев'ю](preview.jpg)\n\n// Розбий завдання на кілька підзадач:\n\n// - Створення і рендер розмітки по масиву даних і наданим шаблоном.\n// - Реалізація делегування на галереї `ul.js-gallery` і отримання `url` великого\n//   зображення.\n// - Відкриття модального вікна при натисканні на елементі галереї.\n// - Підміна значення атрибута `src` елемента `img.lightbox__image`.\n// - Закриття модального вікна при натисканні на кнопку\n//   `button[data-action=\"close-modal\"]`.\n// - Очищення значення атрибута `src` елемента `img.lightbox__image`. Це необхідно\n//   для того, щоб при наступному відкритті модального вікна, поки вантажиться\n// зображення, ми не бачили попереднє.\n\n// import galleryItems from \"./gallery-items\";\n// export default\n\nconst galleryRef = document.querySelector(\".js-gallery\");\nconst lightBoxRef = document.querySelector(\".js-lightbox\");\nconst lightBoxImageRef = document.querySelector(\".lightbox__image\");\nconst closelightBoxBtnRef = document.querySelector(\".lightbox__button\");\nconst lightBoxOverlayRef = document.querySelector(\".lightbox__overlay\");\nconst imagePathAll = galleryItems.map((item) => item.original);\nconst GalleryMarkup = createGalleryMarkup(galleryItems);\n\ngalleryRef.addEventListener(\"click\", openLightBox);\n\nfunction closeLightBox(event) {\n  event.preventDefault();\n  const { code, target } = event;\n\n  if (\n    code === \"Escape\" ||\n    target === closelightBoxBtnRef ||\n    target === lightBoxOverlayRef\n  ) {\n    lightBoxRef.classList.remove(\"is-open\");\n    lightBoxImageRef.src = \"\";\n    window.removeEventListener(\"click\", closeLightBox);\n    window.removeEventListener(\"keydown\", closeLightBox);\n    window.removeEventListener(\"keydown\", toggleImages);\n  }\n}\nfunction createGalleryMarkup(array) {\n  return array.map(createGalleryItemMarkup).join(\"\");\n}\nfunction createGalleryItemMarkup({ original, preview, description }) {\n  return `\n    <li class=\"gallery__item\">\n        <a class=\"gallery__link\" href=${original}>\n            <img class=\"gallery__image\"\n            src=${preview}\n            data-source=${original}\n            alt='${description}'/>\n        </a>\n    </li>\n    `;\n}\nfunction openLightBox(event) {\n  event.preventDefault();\n  if (event.target.nodeName !== \"IMG\") {\n    return;\n  } else {\n    lightBoxImageRef.src = event.target.dataset.source;\n    lightBoxRef.classList.add(\"is-open\");\n    window.addEventListener(\"keydown\", toggleImages);\n\n    toggleImages(event);\n  }\n  window.addEventListener(\"click\", closeLightBox);\n  window.addEventListener(\"keydown\", closeLightBox);\n}\nfunction toggleImages(event) {\n  event.preventDefault();\n  let thisImageIndex = imagePathAll.indexOf(lightBoxImageRef.src);\n  if (event.code === \"ArrowLeft\" && thisImageIndex > 0) {\n    lightBoxImageRef.src = imagePathAll[(thisImageIndex -= 1)];\n  } else if (\n    event.code === \"ArrowRight\" &&\n    thisImageIndex < imagePathAll.length - 1\n  ) {\n    lightBoxImageRef.src = imagePathAll[(thisImageIndex += 1)];\n  } else {\n    return;\n  }\n}\n\ngalleryRef.innerHTML = GalleryMarkup;\n"]}